{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43873427-52524e51f424820d3ed845203';\nconst params = `?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nfunction fetchImg(imageId) {\n  return fetch(`${BASE_URL}${params}&q=${imageId}`).then(response => {\n    if (!response.ok) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n        );\n    }\n    return response.json();\n  });\n}\n\nconst galleryContainer = document.querySelector(\".gallery\");\nconst formEach = document.querySelector(\".form\");\nconst loader = document.querySelector('.loader');\n\nformEach.addEventListener(\"submit\", onSearch);\n    \nfunction onSearch(event) {\n    event.preventDefault();\n    loader.classList.remove('is-hidden');\n    const form = event.currentTarget;\n    const imagesEach = form.elements.searchInput.value;\n\n    if (!imagesEach ==\"\") {\n    fetchImg(imagesEach)\n     .then(image => {\n       renderImageCard(image);\n     })\n     .catch(error => {\n        console.log(error);\n        onFetchError(error);\n     })\n     .finally(() => {\n        form.reset();\n        loader.classList.add('is-hidden');\n     });\n    }\n   \n};\n\nfunction onFetchError(error) {\n  alert(error);\n}\n\nfunction renderImageCard(result) {\n    const imgCreate = result.hits;\n    const createMarkup = imgCreate.map(({ webformatURL }) => {\n        return (`\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=${webformatURL}>\n                <img class=\"gallery-image\" src=${webformatURL} alt=\"photo\" />\n            </a>\n        </li>`)\n    }).join(''); \n    galleryContainer.innerHTML = createMarkup;\n};\n\n\n\n\n\n"],"names":["BASE_URL","API_KEY","params","fetchImg","imageId","response","galleryContainer","formEach","loader","onSearch","event","form","imagesEach","image","renderImageCard","error","onFetchError","result","createMarkup","webformatURL"],"mappings":"ssBAAA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAS,QAAQD,CAAO,2DAE9B,SAASE,EAASC,EAAS,CACzB,OAAO,MAAM,GAAGJ,CAAQ,GAAGE,CAAM,MAAME,CAAO,EAAE,EAAE,KAAKC,GAAY,CACjE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAS,iBAAiB,SAAUE,CAAQ,EAE5C,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMG,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,YAAY,MAEzC,CAACC,GAAa,IAClBT,EAASS,CAAU,EACjB,KAAKC,GAAS,CACbC,EAAgBD,CAAK,CAC5B,CAAM,EACA,MAAME,GAAS,CACb,QAAQ,IAAIA,CAAK,EACjBC,EAAaD,CAAK,CAC1B,CAAM,EACA,QAAQ,IAAM,CACZJ,EAAK,MAAK,EACVH,EAAO,UAAU,IAAI,WAAW,CACxC,CAAM,CAGN,CAEA,SAASQ,EAAaD,EAAO,CAC3B,MAAMA,CAAK,CACb,CAEA,SAASD,EAAgBG,EAAQ,CAE7B,MAAMC,EADYD,EAAO,KACM,IAAI,CAAC,CAAE,aAAAE,CAAY,IACtC;AAAA;AAAA,2CAE2BA,CAAY;AAAA,iDACNA,CAAY;AAAA;AAAA,cAGxD,EAAE,KAAK,EAAE,EACVb,EAAiB,UAAYY,CACjC"}