{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function fetchImg(imageId) {\n  return fetch(`${BASE_URL}${params}&q=${imageId}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\nexport function onSearch(event) {\n  event.preventDefault();\n  loader.classList.remove('is-hidden');\n  const form = event.currentTarget;\n  const imagesEach = form.elements.searchInput.value;\n\n    if (!imagesEach ==\"\") {\n    fetchImg(imagesEach)\n     .then(image => {\n       renderImageCard(image);\n       lightbox.refresh();\n     }) \n        .catch (error => {\n          onFetchError(error);\n     })\n     .finally(() => {\n        form.reset();\n        loader.classList.add('is-hidden');\n     });\n    } else {\n      loader.classList.add('is-hidden');\n    }\n};\nexport function onFetchError(error) {\n  alert(error);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43873427-52524e51f424820d3ed845203';\nconst params = `?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: \"alt\",\n  captionsDelay: 250\n});\n\nconst galleryContainer = document.querySelector(\".gallery\");\nconst formEach = document.querySelector(\".form\");\nconst loader = document.querySelector('.loader');\n\nformEach.addEventListener(\"submit\", onSearch);\n\nimport { fetchImg, onSearch, onFetchError } from \"./js/pixabay-api\"; \n\nimport { renderImageCard } from \"./js/render-functions\";\n\n\n\n\n"],"names":["fetchImg","imageId","response","onSearch","event","form","imagesEach","image","error","onFetchError","SimpleLightbox","formEach"],"mappings":"svBAAO,SAASA,EAASC,EAAS,CAChC,OAAO,MAAM,GAAG,QAAQ,GAAG,MAAM,MAAMA,CAAO,EAAE,EAAE,KAAKC,GAAY,CACjE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACpB,CAAG,CACH,CACO,SAASC,EAASC,EAAO,CAC9BA,EAAM,eAAc,EACpB,OAAO,UAAU,OAAO,WAAW,EACnC,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,YAAY,MAEvC,CAACC,GAAa,GAClBN,EAASM,CAAU,EACjB,KAAKC,GAAS,CACb,gBAAgBA,CAAK,EACrB,SAAS,QAAO,CACvB,CAAM,EACG,MAAOC,GAAS,CACfC,EAAaD,CAAK,CAC5B,CAAM,EACA,QAAQ,IAAM,CACZH,EAAK,MAAK,EACV,OAAO,UAAU,IAAI,WAAW,CACxC,CAAM,EAEA,OAAO,UAAU,IAAI,WAAW,CAEtC,CACO,SAASI,EAAaD,EAAO,CAClC,MAAMA,CAAK,CACb,CCzBiB,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,cAAe,GACjB,CAAC,EAEwB,SAAS,cAAc,UAAU,EAC1D,MAAMC,EAAW,SAAS,cAAc,OAAO,EAChC,SAAS,cAAc,SAAS,EAE/CA,EAAS,iBAAiB,SAAUR,CAAQ"}